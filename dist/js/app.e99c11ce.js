(function(){"use strict";var e={4322:function(e,t,s){var n=s(5130),o=s(6768);const i={id:"app"};function l(e,t,s,n,l,r){const a=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.bF)(a)])}var r={name:"App"},a=s(1241);const u=(0,a.A)(r,[["render",l]]);var c=u,d=s(1387),h=s(4232);const p={class:"quiz-wrapper"},k={key:0,class:"popup"},m={class:"popup-content"},v={class:"sidebar"},f=["onClick"],b={class:"quiz-content"},Q={class:"question-mark",style:{cursor:"default"}},g={class:"timer",style:{color:"aliceblue",float:"right"}},L={class:"ism",style:{color:"aliceblue",float:"right"}},y={class:"question-text",style:{color:"#ffff"}},w={class:"options"},x=["onClick"],C={class:"option-label"},E=["name","value"],I={key:0,class:"result-popup"},S={class:"popup-content"},T={class:"quiz-footer"};function _(e,t,s,i,l,r){return(0,o.uX)(),(0,o.CE)("div",p,[l.showPopup?((0,o.uX)(),(0,o.CE)("div",k,[(0,o.Lk)("div",m,[t[8]||(t[8]=(0,o.Lk)("h2",null,"Ismingizni kiriting",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),placeholder:"Ismingizni kiriting"},null,512),[[n.Jo,l.username]]),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.startTest&&r.startTest(...e))},"Testni boshlash")])])):(0,o.Q3)("",!0),(0,o.Lk)("aside",v,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.displayedQuestions,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:(0,h.C4)(["question-circle",{active:t===l.currentQuestionIndex,answered:void 0!==l.answers[t]}]),onClick:e=>r.goToQuestion(t)},(0,h.v_)(t+1),11,f)))),128))]),(0,o.Lk)("div",b,[(0,o.Lk)("div",Q,[t[9]||(t[9]=(0,o.eW)(" Dasturchilar: ")),(0,o.Lk)("span",{class:"developer",onClick:t[2]||(t[2]=e=>r.openTelegram("https://t.me/chiko_uz")),style:{cursor:"pointer",color:"#6b476d","text-decoration":"underline"}}," Husenov Abdullo "),t[10]||(t[10]=(0,o.eW)("    ")),(0,o.Lk)("span",{class:"developer",onClick:t[3]||(t[3]=e=>r.openTelegram("https://t.me/firuzovic")),style:{cursor:"pointer",color:"#6b476d","text-decoration":"underline"}}," Xalimov Shoxijaxon ")]),t[15]||(t[15]=(0,o.Lk)("div",{class:"logo"},null,-1)),(0,o.Lk)("div",g,"Qolgan vaqt: "+(0,h.v_)(r.formattedTime),1),t[16]||(t[16]=(0,o.eW)()),t[17]||(t[17]=(0,o.Lk)("br",null,null,-1)),t[18]||(t[18]=(0,o.Lk)("br",null,null,-1)),(0,o.Lk)("div",L,"Foydalanuvchi: "+(0,h.v_)(l.username)+"  ",1),t[19]||(t[19]=(0,o.Lk)("br",null,null,-1)),t[20]||(t[20]=(0,o.Lk)("br",null,null,-1)),(0,o.Lk)("h2",y,(0,h.v_)(l.displayedQuestions[l.currentQuestionIndex].text),1),(0,o.Lk)("div",w,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.displayedQuestions[l.currentQuestionIndex].options,((e,s)=>((0,o.uX)(),(0,o.CE)("div",{key:s,class:"option",onClick:t=>l.answers[l.currentQuestionIndex]=e},[(0,o.Lk)("label",null,[(0,o.Lk)("span",C,(0,h.v_)(r.getOptionLetter(s)),1),(0,o.bo)((0,o.Lk)("input",{type:"radio",name:"q"+l.currentQuestionIndex,value:e,"onUpdate:modelValue":t[4]||(t[4]=e=>l.answers[l.currentQuestionIndex]=e)},null,8,E),[[n.XL,l.answers[l.currentQuestionIndex]]]),(0,o.eW)(" "+(0,h.v_)(e),1)])],8,x)))),128))]),l.showResultPopup?((0,o.uX)(),(0,o.CE)("div",I,[(0,o.Lk)("div",S,[t[14]||(t[14]=(0,o.Lk)("h2",null,"Test natijalari",-1)),(0,o.Lk)("p",null,[t[11]||(t[11]=(0,o.Lk)("strong",null,"Foydalanuvchi:",-1)),(0,o.eW)(" "+(0,h.v_)(l.testResult.username),1)]),(0,o.Lk)("p",null,[t[12]||(t[12]=(0,o.Lk)("strong",null,"To‘g‘ri javoblar:",-1)),(0,o.eW)(" "+(0,h.v_)(l.testResult.score)+" / "+(0,h.v_)(l.testResult.total),1)]),(0,o.Lk)("p",null,[t[13]||(t[13]=(0,o.Lk)("strong",null,"Foiz:",-1)),(0,o.eW)(" "+(0,h.v_)(l.testResult.percentage)+"%",1)]),(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>r.closeResultPopup&&r.closeResultPopup(...e))},"Yopish")])])):(0,o.Q3)("",!0),(0,o.Lk)("div",T,[r.isLastQuestion?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:t[7]||(t[7]=(...e)=>r.submitTest&&r.submitTest(...e))},"Yakunlash")):((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[6]||(t[6]=(...e)=>r.nextQuestion&&r.nextQuestion(...e))},"Keyingisi"))])])])}s(8111),s(116),s(7588),s(1701);var q=s(4373),O={data(){return{username:"",showPopup:!0,currentQuestionIndex:0,displayedQuestions:[],answers:[],timeLeft:3600,timer:null,showResultPopup:!1,testResult:null,startTime:null}},created(){this.fetchQuestions(),window.addEventListener("beforeunload",this.preventRefresh)},beforeUnmount(){window.removeEventListener("beforeunload",this.preventRefresh)},computed:{isLastQuestion(){return this.currentQuestionIndex===this.displayedQuestions.length-1},formattedTime(){const e=Math.floor(this.timeLeft/60),t=this.timeLeft%60;return`${e}:${t<10?"0":""}${t}`}},methods:{openTelegram(e){window.open(e,"_blank")},async fetchQuestions(){try{const e=await q.A.get("https://edu.pochta.uz/api/v1/random-tests/");this.displayedQuestions=e.data.map((e=>({text:e.question,options:e.answers.map((e=>e.answer)),correct:e.answers.find((e=>e.is_correct))?.answer})))}catch(e){console.error("Testlarni olishda xatolik:",e),alert("Testlarni yuklashda xatolik yuz berdi")}},preventRefresh(e){e.preventDefault(),e.returnValue="Test jarayonida sahifani yangilash mumkin emas!"},closeResultPopup(){this.showResultPopup=!1,this.username="",this.answers=[],this.currentQuestionIndex=0,this.timeLeft=3600,this.showPopup=!0,this.fetchQuestions()},getOptionLetter(e){return String.fromCharCode(65+e)},nextQuestion(){this.currentQuestionIndex<this.displayedQuestions.length-1&&this.currentQuestionIndex++},goToQuestion(e){this.currentQuestionIndex=e},startTest(){this.username?(this.showPopup=!1,this.startTime=Date.now(),this.startTimer()):alert("Ismingizni kiriting!")},startTimer(){this.timer=setInterval((()=>{this.timeLeft>0?this.timeLeft--:(clearInterval(this.timer),this.submitTest())}),1e3)},async submitTest(){clearInterval(this.timer);let e=0;this.displayedQuestions.forEach(((t,s)=>{this.answers[s]===t.correct&&e++}));let t=this.displayedQuestions.length,s=(e/t*100).toFixed(2),n=Math.floor((Date.now()-this.startTime)/1e3),o=Math.floor(n/60),i=n%60,l=`${o}:${i<10?"0":""}${i}`;this.testResult={username:this.username,score:e,total:t,percentage:s,time:l},this.showResultPopup=!0;try{await q.A.post("https://edu.pochta.uz/api/v1/test-results/",{fish:this.username,correct_answers:e,incorrect_answers:t-e,percentage:parseFloat(s),time:l})}catch(r){console.error("Natijalarni yuborishda xatolik:",r),alert("Natijalarni yuborishda xatolik yuz berdi")}}}};const R=(0,a.A)(O,[["render",_],["__scopeId","data-v-586bbb52"]]);var X=R;const j={border:"1"},A=["onUpdate:modelValue","placeholder"],F=["onClick"],J=["disabled"],z={key:0},P=["onUpdate:modelValue","placeholder"],N=["onClick"],V={key:1},W=["onClick"];function B(e,t,s,i,l,r){return(0,o.uX)(),(0,o.CE)("div",null,[t[15]||(t[15]=(0,o.Lk)("h2",null,"Admin Paneli",-1)),t[16]||(t[16]=(0,o.Lk)("h3",null,"Foydalanuvchilar natijalari",-1)),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.downloadResultsAsExcel&&r.downloadResultsAsExcel(...e))},"Excel formatida yuklab olish"),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.clearResults&&r.clearResults(...e))},"Barcha natijalarni o‘chirish"),(0,o.Lk)("table",j,[t[13]||(t[13]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"#"),(0,o.Lk)("th",null,"Foydalanuvchi"),(0,o.Lk)("th",null,"Ball"),(0,o.Lk)("th",null,"Jami Savollar"),(0,o.Lk)("th",null,"Foiz")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.userResults,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",null,(0,h.v_)(t+1),1),(0,o.Lk)("td",null,(0,h.v_)(e.name||e.username),1),(0,o.Lk)("td",null,(0,h.v_)(e.score),1),(0,o.Lk)("td",null,(0,h.v_)(e.total||"-"),1),(0,o.Lk)("td",null,(0,h.v_)(e.percentage||"-")+"%",1)])))),128))])]),(0,o.Lk)("div",null,[t[14]||(t[14]=(0,o.Lk)("h3",null,"Yangi savol qo‘shish",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.newQuestion.text=e),placeholder:"Savolni kiriting"},null,512),[[n.Jo,l.newQuestion.text]]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.newQuestion.options,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":e=>l.newQuestion.options[t]=e,placeholder:"Variant "+(t+1)},null,8,A),[[n.Jo,l.newQuestion.options[t]]]),(0,o.Lk)("button",{onClick:e=>r.removeOption(t)},"X",8,F)])))),128)),(0,o.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>r.addOption&&r.addOption(...e))},"Variant qo‘shish"),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.newQuestion.correct=e),placeholder:"To‘g‘ri javobni kiriting"},null,512),[[n.Jo,l.newQuestion.correct]]),(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>r.addQuestion&&r.addQuestion(...e))},"Savol qo‘shish")]),t[17]||(t[17]=(0,o.Lk)("h3",null,"Test fayl yuklash",-1)),(0,o.Lk)("input",{type:"file",onChange:t[6]||(t[6]=(...e)=>r.uploadFile&&r.uploadFile(...e)),accept:".docx"},null,32),t[18]||(t[18]=(0,o.Lk)("h3",null,"Mavjud test savollari",-1)),(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.toggleSelectAll&&r.toggleSelectAll(...e))},(0,h.v_)(l.selectAll?"Barchasini bekor qilish":"Barchasini tanlash"),1),(0,o.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>r.removeSelectedQuestions&&r.removeSelectedQuestions(...e)),disabled:!l.selectedQuestions.length},"Tanlanganlarni o‘chirish",8,J),(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.questions,((e,s)=>((0,o.uX)(),(0,o.CE)("li",{key:s},[l.editedIndex===s?((0,o.uX)(),(0,o.CE)("div",z,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.editedQuestion.text=e),placeholder:"Savolni kiriting"},null,512),[[n.Jo,l.editedQuestion.text]]),(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.editedQuestion.options,((e,t)=>((0,o.uX)(),(0,o.CE)("li",{key:t},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":e=>l.editedQuestion.options[t]=e,placeholder:"Variant "+(t+1)},null,8,P),[[n.Jo,l.editedQuestion.options[t]]])])))),128))]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>l.editedQuestion.correct=e),placeholder:"To‘g‘ri javobni kiriting"},null,512),[[n.Jo,l.editedQuestion.correct]]),(0,o.Lk)("button",{onClick:e=>r.saveEdit(s)},"Saqlash",8,N),(0,o.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>r.cancelEdit&&r.cancelEdit(...e))},"Bekor qilish")])):((0,o.uX)(),(0,o.CE)("div",V,[(0,o.eW)((0,h.v_)(e.text)+" ",1),(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((e,t)=>((0,o.uX)(),(0,o.CE)("li",{key:t},(0,h.v_)(e),1)))),128))]),(0,o.eW)(" (To‘g‘ri javob: "+(0,h.v_)(e.correct)+") ",1),(0,o.Lk)("button",{onClick:e=>r.editQuestion(s)},"Tahrirlash",8,W)]))])))),128))]),(0,o.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>r.downloadQuestions&&r.downloadQuestions(...e))},"Word formatida yuklab olish")])}s(4114),s(2489),s(3579);var U=s(835),$=s.n(U),K=s(5498),M=s(2129),D={data(){return{questions:JSON.parse(localStorage.getItem("testQuestions"))||[],selectedQuestions:[],selectAll:!1,userResults:JSON.parse(localStorage.getItem("testResults"))||[],newQuestion:{text:"",options:["","","",""],correct:""},file:null,editedIndex:null,editedQuestion:{text:"",options:["","","",""],correct:""}}},methods:{clearResults(){confirm("Barcha natijalarni o‘chirmoqchimisiz?")&&(this.userResults=[],localStorage.removeItem("testResults"))},editQuestion(e){this.editedIndex=e,this.editedQuestion=JSON.parse(JSON.stringify(this.questions[e]))},saveEdit(e){this.questions[e]=JSON.parse(JSON.stringify(this.editedQuestion)),localStorage.setItem("testQuestions",JSON.stringify(this.questions)),this.editedIndex=null},cancelEdit(){this.editedIndex=null},downloadResultsAsExcel(){const e=this.userResults.map(((e,t)=>({"#":t+1,Foydalanuvchi:e.name||e.username,Ball:e.score,"Jami Savollar":e.total||"-",Foiz:e.percentage||"-"}))),t=M.Wp.json_to_sheet(e),s=M.Wp.book_new();M.Wp.book_append_sheet(s,t,"Natijalar");const n=M.M9(s,{bookType:"xlsx",type:"array"}),o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});$()(o,"foydalanuvchi_natijalari.xlsx")},toggleSelectAll(){this.selectAll?this.selectedQuestions=[]:this.selectedQuestions=this.questions.map(((e,t)=>t)),this.selectAll=!this.selectAll},addOption(){this.newQuestion.options.length<6?this.newQuestion.options.push(""):alert("Ko‘pi bilan 6 ta variant qo‘shishingiz mumkin!")},removeOption(e){this.newQuestion.options.splice(e,1)},addQuestion(){this.newQuestion.text.trim()&&!this.newQuestion.options.some((e=>!e.trim()))&&this.newQuestion.correct.trim()?(this.questions.push({...this.newQuestion}),localStorage.setItem("testQuestions",JSON.stringify(this.questions)),this.newQuestion={text:"",options:["","","",""],correct:""}):alert("Barcha maydonlarni to‘ldiring!")},removeSelectedQuestions(){this.questions=this.questions.filter(((e,t)=>!this.selectedQuestions.includes(t))),localStorage.setItem("testQuestions",JSON.stringify(this.questions)),this.selectedQuestions=[],this.selectAll=!1},toggleSelection(e){this.selectedQuestions.includes(e)?this.selectedQuestions=this.selectedQuestions.filter((t=>t!==e)):this.selectedQuestions.push(e)},removeQuestion(e){confirm("Haqiqatan ham ushbu savolni o‘chirmoqchimisiz?")&&(this.questions.splice(e,1),localStorage.setItem("testQuestions",JSON.stringify(this.questions)))},async uploadFile(e){const t=e.target.files[0];if(t){const e=new FileReader;e.onload=async e=>{const t=e.target.result;K.ni({arrayBuffer:t}).then((e=>{const t=e.value;this.parseQuestions(t)})).catch((e=>console.error("Xatolik: ",e)))},e.readAsArrayBuffer(t)}},parseQuestions(e){const t=e.split("\n");let s=null;t.forEach((e=>{e=e.trim(),e.match(/^\d+\./)?(s&&this.questions.push(s),s={text:e.replace(/^\d+\.\s*/,""),options:[],correct:""}):e.match(/^[A-E]\)/)?s.options.push(e.replace(/^[A-E]\)\s*/,"")):e.includes("To‘g‘ri javob:")&&(s.correct=e.split(":")[1].trim())})),s&&this.questions.push(s),localStorage.setItem("testQuestions",JSON.stringify(this.questions))},downloadQuestions(){let e="Test Savollari\n\n";this.questions.forEach(((t,s)=>{e+=`${s+1}. ${t.text}\n`,t.options.forEach(((t,s)=>{e+=`   ${String.fromCharCode(65+s)}) ${t}\n`})),e+=`   To‘g‘ri javob: ${t.correct}\n\n`}));const t=new Blob([e],{type:"application/msword"});$()(t,"test_savollari.doc")}}};const Y=(0,a.A)(D,[["render",B],["__scopeId","data-v-6a430816"]]);var H=Y;const G=[{path:"/",component:X},{path:"/admin",component:H}],Z=(0,d.aE)({history:(0,d.LA)(),routes:G});var ee=Z;const te=(0,n.Ef)(c);te.use(ee),te.mount("#app")}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,n,o,i){if(!n){var l=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],i=e[c][2];for(var r=!0,a=0;a<n.length;a++)(!1&i||l>=i)&&Object.keys(s.O).every((function(e){return s.O[e](n[a])}))?n.splice(a--,1):(r=!1,i<l&&(l=i));if(r){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,o,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,l=n[0],r=n[1],a=n[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(o in r)s.o(r,o)&&(s.m[o]=r[o]);if(a)var c=a(s)}for(t&&t(n);u<l.length;u++)i=l[u],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(c)},n=self["webpackChunkeduchiko"]=self["webpackChunkeduchiko"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[504],(function(){return s(4322)}));n=s.O(n)})();
//# sourceMappingURL=app.e99c11ce.js.map